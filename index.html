<!DOCTYPE html><html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>–ö—Ç–æ —Ç—ã –≤ –ª–µ—Ç–Ω–µ–º –ª–∞–≥–µ—Ä–µ? ‚Äî –®–ê–ì–ê–ô –î–û–ú–ê</title>
<style>
  :root{
    --paper:#fff8e6;
    --ink:#3a2f2f;
    --accent:#b22222; /* –ø–∏–æ–Ω–µ—Ä—Å–∫–∏–π –∫—Ä–∞—Å–Ω—ã–π */
    --accent-2:#1f4a7f; /* –ª–∞–≥–µ—Ä—å-—Å–∏–Ω–∏–π */
    --gold:#d9a441;
  }
  html,body{
    margin:0; color:var(--ink);
    /* –ë—É–º–∞–∂–Ω–∞—è —Ç–µ–∫—Å—Ç—É—Ä–∞ + –º—è–≥–∫–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç, –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤ */
    background:
      url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABa0lEQVRYR+2WPU4DMQxFP7RykBBGqI5oOwiUUN4nHBhQsW8EhRCKn0kz0gUwTTtCjFDy2+TgfL2t1n/3b3yMzueANZbABQkgDc6DkHfg+T5XEtW0CqoA9TkKEB8QgsDTR9HUBioDYHqKMUSxV8wHd9ySx13cTHmP9LQIbUeV0sANXIggGqIMHNhCObVWADMYf0QImxq9wBGyIpUV1Bo+5O6EBryrtpApDL6vlIMvgnQXhe+ACaBS8C1YDO+AyoCh2FNsAZ43nF5QHXgVrwD+i8xGeUrrQ+rmABlg6jQwGpjD88U10Af0YO0+KUnQXikAH2EEXSgApC4BLbAE6gBESbtD7kGgJTkVR0gwK5oaPfF+XLO19NccM+mJvU6MHVRo2EM5EMQvMbdoLMp8oUNPlzGckILatK62ziYB5ra+c+OfgAKxThXH2SlZzAAAAAElFTkSuQmCC') repeat,
      radial-gradient(1200px 600px at top left, #fff6d8 0%, #fffaf0 35%, #fff 60%) fixed;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans", Arial, sans-serif;
  }
  body{
    margin:0; color:var(--ink); background:
      radial-gradient(1200px 600px at top left, #fff6d8 0%, #fffaf0 35%, #fff 60%) fixed;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans", Arial, sans-serif;
  }
  .page{
    max-width: 860px; margin: 24px auto; padding: 20px; position:relative;
    background: var(--paper);
    border: 5px double var(--accent);
    border-radius: 18px; box-shadow: 0 30px 60px rgba(0,0,0,.15);
    perspective: 1400px; overflow:hidden;
  }
  header{
    display:flex; align-items:center; gap:16px; justify-content:center; flex-wrap:wrap;
  }
  .pin{
    width:54px; height:54px; border-radius:50%;
    background: conic-gradient(from 210deg, #e33 0 35%, #f55 35% 50%, #e33 50% 100%);
    box-shadow: inset 0 0 0 6px #fff, 0 6px 10px rgba(0,0,0,.25);
  }
  h1{font-family: "Georgia", "Times New Roman", serif; letter-spacing:.3px;
     color:var(--accent); text-align:center; margin:8px 0 0 0; font-size: clamp(24px, 3vw, 40px);
  }
  .sub{ text-align:center; color:#7b5d5d; margin:4px 0 14px 0; }/* –±–ª–æ–∫ –≤–æ–ø—Ä–æ—Å–∞ –∫–∞–∫ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–Ω–µ–≤–Ω–∏–∫–∞ */ .card{ background: linear-gradient(#fffef7,#fffaf0); border: 2px solid #e7d9b6; border-radius: 16px; padding: 18px 18px 22px; transform-origin: left center; transform-style: preserve-3d; transition: transform .7s cubic-bezier(.2,.7,.2,1), opacity .4s; box-shadow: 0 10px 24px rgba(0,0,0,.08); } .card.flip{ transform: rotateY(-12deg) translateZ(0); } .qnum{ font-weight:700; color:var(--accent-2); text-transform:uppercase; letter-spacing:.08em; font-size:12px; } .question{ font-size: clamp(18px, 2.5vw, 24px); margin:8px 0 14px; }

.answers{ display:grid; gap:10px; grid-template-columns:1fr; } @media (min-width:700px){ .answers{ grid-template-columns:1fr 1fr; } }

.answer{ border: 2px dashed var(--accent-2); border-radius: 14px; padding: 12px 14px; background: #fdf8ea; cursor:pointer; position:relative; overflow:hidden; transition: transform .08s, box-shadow .15s, background .2s; } .answer:hover{ background:#fff2c7; transform: translateY(-1px); box-shadow:0 6px 14px rgba(0,0,0,.08); } .answer:active{ transform: translateY(0); } .answer::after{ /* –º–∞—Ä–∫–µ—Ä-–ø–æ–¥—Å–≤–µ—Ç–∫–∞ */ content:""; position:absolute; inset:auto 0 0 0; height:0; background:rgba(255,235,130,.55); transition: height .3s; pointer-events:none; } .answer:hover::after{ height:100%; }

.nav{ display:flex; justify-content:space-between; align-items:center; gap:12px; margin-top:14px; } .progress{ height:10px; background:#f1e6c8; border-radius:999px; overflow:hidden; flex:1; border:1px solid #e7d9b6; } .bar{ height:100%; width:0; background: linear-gradient(90deg, var(--accent), #ff7a59); transition: width .5s; } .next{ border:none; background:var(--accent); color:#fff; padding:10px 16px; border-radius:12px; font-weight:700; cursor:pointer; box-shadow:0 8px 16px rgba(178,34,34,.25); } .next:disabled{ opacity:.5; cursor:not-allowed; }

/* —Ä–µ–∑—É–ª—å—Ç–∞—Ç */ .result{ display:none; text-align:center; } .badge-wrap{ margin:18px auto 8px; width:170px; height:170px; position:relative; } .share{ display:flex; gap:10px; justify-content:center; margin-top:12px; flex-wrap:wrap; } .outro{ margin-top:10px; font-size:15px; color:#6b5757; }

/* –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ */ canvas#confetti{ position:fixed; inset:0; pointer-events:none; z-index:5; }

/* –≤—Å–ø–ª—ã–≤–∞—é—â–∏–π –∑–≤—É–∫/–∫–æ—Å—Ç—ë—Ä –∫–Ω–æ–ø–∫–∏ */ .ghost-btn{ background:transparent; color:var(--accent-2); border:2px solid var(--accent-2); padding:8px 12px; border-radius:12px; cursor:pointer; }

footer{ margin-top: 16px; text-align:center; font-size:12px; color:#8a7d7d; } </style>

</head>
<body>
<canvas id="confetti"></canvas>
<div class="page">
  <header>
    <div class="pin" aria-hidden="true"></div>
    <h1>–ö—Ç–æ —Ç—ã –≤ –ª–µ—Ç–Ω–µ–º –ª–∞–≥–µ—Ä–µ?</h1>
  </header>
  <p class="sub">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∞–Ω–∫–µ—Ç–∞ –≤ –¥—É—Ö–µ –ø–∏–æ–Ω–µ—Ä–ª–∞–≥–µ—Ä—è –æ—Ç ¬´–®–ê–ì–ê–ô –î–û–ú–ê¬ª</p>  <section id="quiz" class="card" aria-live="polite">
    <div class="qnum" id="qnum"></div>
    <div class="question" id="question"></div>
    <div class="answers" id="answers"></div>
    <div class="nav">
      <div class="progress"><div class="bar" id="bar"></div></div>
      <button class="next" id="nextBtn" disabled>–î–∞–ª–µ–µ</button>
    </div>
  </section>  <section id="result" class="result">
    <div class="badge-wrap" id="badgeWrap" aria-hidden="true"></div>
    <h2 id="role" style="margin:6px 0 6px; color:var(--accent)"></h2>
    <p id="desc" style="max-width:650px; margin: 0 auto; line-height:1.5"></p><div class="share">
  <button class="ghost-btn" id="replay">–ü—Ä–æ–π—Ç–∏ –µ—â—ë —Ä–∞–∑</button>
  <button class="ghost-btn" id="copy">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
  <button class="ghost-btn" id="soundBtn">–ó–≤—É–∫ –≥–æ—Ä–Ω–∞</button>
  <button class="ghost-btn" id="fireBtn">–ó–≤—É–∫ –∫–æ—Å—Ç—Ä–∞</button>
</div>
<p class="outro">–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å –ø–æ–¥—Ä—É–≥–∞–º–∏ –∏ —É–∑–Ω–∞–π—Ç–µ, –∫—Ç–æ –æ–Ω–∏ –±—ã–ª–∏ –≤ –ª–∞–≥–µ—Ä–µ üòâ</p>

  </section>  <footer>¬© –®–ê–ì–ê–ô –î–û–ú–ê ‚Ä¢ –õ–µ—Ç–Ω–∏–π –ª–∞–≥–µ—Ä—å ‚Ä¢ 2025</footer>
</div><script>
// ===== –î–ê–ù–ù–´–ï –û –í–û–ü–†–û–°–ê–• –ò –†–û–õ–Ø–• =====
const ROLES = {
  "–ó–≤–µ–∑–¥–∞ –ª–∏–Ω–µ–π–∫–∏": "–í—Å–µ–≥–¥–∞ –Ω–∞ –ø–µ—Ä–≤—ã—Ö —Ä—è–¥–∞—Ö, –≥–∞–ª—Å—Ç—É–∫ –∫–∞–∫ —Å –æ–±–ª–æ–∂–∫–∏, –æ—Å–∞–Ω–∫–∞ ‚Äî –ø—Ä–∏–º–µ—Ä –¥–ª—è –≤—Å–µ—Ö. –õ–∏–Ω–µ–π–∫–∞ –¥–ª—è –Ω–µ—ë ‚Äî –∫–∞–∫ –∫—Ä–∞—Å–Ω–∞—è –¥–æ—Ä–æ–∂–∫–∞.",
  "–•–æ–∑—è–π–∫–∞ —Ç–∏—Ö–æ–≥–æ —á–∞—Å–∞": "–ú–∞—Å—Ç–µ—Ä —á–∏—Ç–∞—Ç—å –ø–æ–¥ –æ–¥–µ—è–ª–æ–º –∏ –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è –∫–Ω–∏–∂–∫–∞–º–∏ ¬´–∏–∑-–ø–æ–¥ –ø–æ–ª—ã¬ª. –ú–æ–∂–µ—Ç –ø—Ä–æ—Å–ø–∞—Ç—å –ø–æ–ª–¥–Ω—è, –Ω–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –≤ –∫—É—Ä—Å–µ –≤—Å–µ—Ö –ª–∞–≥–µ—Ä–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π.",
  "–ö–æ—Ä–æ–ª–µ–≤–∞ –∫–æ—Å—Ç—Ä–∞": "–ì–∏—Ç–∞—Ä–∞, –ø–µ—Å–Ω–∏, —Å—Ç—Ä–∞—à–∏–ª–∫–∏ –∏ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã ¬´–¥–æ –æ—Ç–±–æ—è¬ª. –í–µ—á–µ—Ä–æ–º –≤–æ–∫—Ä—É–≥ –Ω–µ—ë —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤–µ—Å—å –æ—Ç—Ä—è–¥.",
  "–ß–µ–º–ø–∏–æ–Ω–∫–∞ —Ç—É—Ä—Å–ª—ë—Ç–∞": "–ü–µ—Ä–≤–∞—è –≤ —ç—Å—Ç–∞—Ñ–µ—Ç–µ, –Ω–µ–∑–∞–º–µ–Ω–∏–º–∞—è –≤ –ø–æ—Ö–æ–¥–∞—Ö. –ó–Ω–∞–µ—Ç, –∫–∞–∫ —Ä–∞–∑–∂–µ—á—å –∫–æ—Å—Ç—ë—Ä, –∏ –º–æ–∂–µ—Ç –¥–æ–Ω–µ—Å—Ç–∏ –∫–æ—Ç–µ–ª–æ–∫ –¥–∞–∂–µ –ø–æ —Å–∞–º–æ–º—É –∫—Ä—É—Ç–æ–º—É —Å–∫–ª–æ–Ω—É.",
  "–ö–∞—Ä–∞–º–µ–ª—å–Ω–∞—è –∫–æ—Ä–æ–ª–µ–≤–∞": "–ú–∞—Å—Ç–µ—Ä –∫–∞—Ä—Ç–æ—á–Ω—ã—Ö –∏–≥—Ä –Ω–∞ —Ñ–∞–Ω—Ç–∏–∫–∏, –æ–±–º–µ–Ω–æ–≤ –∏ –∫–∞—Ä–∞–º–µ–ª—å–Ω—ã—Ö —Å–¥–µ–ª–æ–∫. –£ –Ω–µ—ë –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å —Å–ª–∞–¥–æ—Å—Ç–∏ –∏ –ø–∞—Ä–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ –∑–∞–ø–∞—Å–µ.",
  "–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞": "–ó–Ω–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–∏—ë–º–æ–≤ –ø–∏—â–∏, –¥—Ä—É–∂–∏—Ç —Å –¥–µ–∂—É—Ä–Ω—ã–º–∏ –ø–æ —Å—Ç–æ–ª–æ–≤–æ–π –∏ –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç —Å–ø–æ—Å–æ–± –≤–∑—è—Ç—å –¥–æ–±–∞–≤–∫—É.",
  "–°–µ–∫—Ä–µ—Ç–Ω–∞—è —Ö—É–ª–∏–≥–∞–Ω–∫–∞": "–° –≤–∏–¥—É –ø–∞–π-–¥–µ–≤–æ—á–∫–∞, –Ω–æ —Ç–æ–ª—å–∫–æ –¥–æ –æ—Ç–±–æ—è. –ú–æ–∂–µ—Ç –ø–æ–¥–ª–æ–∂–∏—Ç—å –∑—É–±–Ω—É—é –ø–∞—Å—Ç—É –≤ —Ç–∞–ø–æ–∫ –∏–ª–∏ –Ω–∞–º—ã–ª–∏—Ç—å —Ä—É—á–∫—É —Å–æ—Å–µ–¥–Ω–µ–≥–æ –æ—Ç—Ä—è–¥–∞."
};

const QUESTIONS = [
  {
    q: "–ß—Ç–æ –¥–ª—è –≤–∞—Å —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ –≤ –ª–∞–≥–µ—Ä–µ?",
    a: [
      {t:"–í—ã–≥–ª—è–¥–µ—Ç—å –Ω–∞ –≤—Å–µ 100", r:"–ó–≤–µ–∑–¥–∞ –ª–∏–Ω–µ–π–∫–∏"},
      {t:"–ü–æ—Å–ø–∞—Ç—å –∏ –ø–æ—á–∏—Ç–∞—Ç—å", r:"–•–æ–∑—è–π–∫–∞ —Ç–∏—Ö–æ–≥–æ —á–∞—Å–∞"},
      {t:"–í–µ—á–µ—Ä–∞ —É –∫–æ—Å—Ç—Ä–∞", r:"–ö–æ—Ä–æ–ª–µ–≤–∞ –∫–æ—Å—Ç—Ä–∞"},
      {t:"–ü–æ–±–µ–∂–¥–∞—Ç—å –≤ —ç—Å—Ç–∞—Ñ–µ—Ç–∞—Ö", r:"–ß–µ–º–ø–∏–æ–Ω–∫–∞ —Ç—É—Ä—Å–ª—ë—Ç–∞"},
      {t:"–û–±–º–µ–Ω—ã —Å–ª–∞–¥–æ—Å—Ç—è–º–∏", r:"–ö–∞—Ä–∞–º–µ–ª—å–Ω–∞—è –∫–æ—Ä–æ–ª–µ–≤–∞"},
      {t:"–ö–æ–º–ø–æ—Ç –∏ –≤–∫—É—Å–Ω–æ—Å—Ç–∏", r:"–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞"},
      {t:"–í–µ—Å—ë–ª—ã–µ —Ä–æ–∑—ã–≥—Ä—ã—à–∏", r:"–°–µ–∫—Ä–µ—Ç–Ω–∞—è —Ö—É–ª–∏–≥–∞–Ω–∫–∞"},
    ]
  },
  {
    q: "–ß—Ç–æ –≤—ã –∂–¥—ë—Ç–µ –≤ –ø–æ—Å—ã–ª–∫–µ –∏–∑ –¥–æ–º–∞?",
    a: [
      {t:"–ù–æ–≤—É—é —Ñ–æ—Ä–º—É/–∑–∞–∫–æ–ª–∫–∏", r:"–ó–≤–µ–∑–¥–∞ –ª–∏–Ω–µ–π–∫–∏"},
      {t:"–ö–Ω–∏–≥—É –∏–ª–∏ –∂—É—Ä–Ω–∞–ª", r:"–•–æ–∑—è–π–∫–∞ —Ç–∏—Ö–æ–≥–æ —á–∞—Å–∞"},
      {t:"–§–æ–Ω–∞—Ä–∏–∫ –∏ –±–∞—Ç–∞—Ä–µ–π–∫–∏", r:"–ö–æ—Ä–æ–ª–µ–≤–∞ –∫–æ—Å—Ç—Ä–∞"},
      {t:"–ö—Ä–æ—Å—Å–æ–≤–∫–∏ –¥–ª—è —ç—Å—Ç–∞—Ñ–µ—Ç", r:"–ß–µ–º–ø–∏–æ–Ω–∫–∞ —Ç—É—Ä—Å–ª—ë—Ç–∞"},
      {t:"–ü–∞–∫–µ—Ç –∫–∞—Ä–∞–º–µ–ª–µ–∫", r:"–ö–∞—Ä–∞–º–µ–ª—å–Ω–∞—è –∫–æ—Ä–æ–ª–µ–≤–∞"},
      {t:"–î–æ–º–∞—à–Ω–µ–µ –≤–∞—Ä–µ–Ω—å–µ", r:"–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞"},
      {t:"–®—É—Ç–æ—á–Ω—É—é –æ—Ç–∫—Ä—ã—Ç–∫—É", r:"–°–µ–∫—Ä–µ—Ç–Ω–∞—è —Ö—É–ª–∏–≥–∞–Ω–∫–∞"},
    ]
  },
  {
    q: "–í–∞—à –ª—é–±–∏–º—ã–π –º–æ–º–µ–Ω—Ç –ª–∞–≥–µ—Ä–Ω–æ–≥–æ –¥–Ω—è:",
    a: [
      {t:"–¢–æ—Ä–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –ª–∏–Ω–µ–π–∫–∞", r:"–ó–≤–µ–∑–¥–∞ –ª–∏–Ω–µ–π–∫–∏"},
      {t:"–¢–∏—Ö–∏–π —á–∞—Å", r:"–•–æ–∑—è–π–∫–∞ —Ç–∏—Ö–æ–≥–æ —á–∞—Å–∞"},
      {t:"–ü–æ—Å–∏–¥–µ–ª–∫–∏ —É –∫–æ—Å—Ç—Ä–∞", r:"–ö–æ—Ä–æ–ª–µ–≤–∞ –∫–æ—Å—Ç—Ä–∞"},
      {t:"–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è", r:"–ß–µ–º–ø–∏–æ–Ω–∫–∞ —Ç—É—Ä—Å–ª—ë—Ç–∞"},
      {t:"–û–±–º–µ–Ω —Ñ–∞–Ω—Ç–∏–∫–∞–º–∏", r:"–ö–∞—Ä–∞–º–µ–ª—å–Ω–∞—è –∫–æ—Ä–æ–ª–µ–≤–∞"},
      {t:"–û–±–µ–¥/–ø–æ–ª–¥–Ω–∏–∫", r:"–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞"},
      {t:"–í—Ä–µ–º—è –ø–æ—Å–ª–µ –æ—Ç–±–æ—è", r:"–°–µ–∫—Ä–µ—Ç–Ω–∞—è —Ö—É–ª–∏–≥–∞–Ω–∫–∞"},
    ]
  },
  {
    q: "–°–≤–æ–±–æ–¥–Ω—ã–π –≤–µ—á–µ—Ä ‚Äî —á—Ç–æ –≤—ã–±–µ—Ä–µ—Ç–µ?",
    a: [
      {t:"–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ñ–æ—Ä–º—É –Ω–∞ –∑–∞–≤—Ç—Ä–∞", r:"–ó–≤–µ–∑–¥–∞ –ª–∏–Ω–µ–π–∫–∏"},
      {t:"–î–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–Ω–∏–∂–∫—É/–ø–æ–¥—Ä–µ–º–∞—Ç—å", r:"–•–æ–∑—è–π–∫–∞ —Ç–∏—Ö–æ–≥–æ —á–∞—Å–∞"},
      {t:"–ü—Ä–∏–¥—É–º–∞—Ç—å –ø–µ—Å–Ω—é/–∏—Å—Ç–æ—Ä–∏—é", r:"–ö–æ—Ä–æ–ª–µ–≤–∞ –∫–æ—Å—Ç—Ä–∞"},
      {t:"–ü–æ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫ —Å—Ç–∞—Ä—Ç–∞–º", r:"–ß–µ–º–ø–∏–æ–Ω–∫–∞ —Ç—É—Ä—Å–ª—ë—Ç–∞"},
      {t:"–†–∞–∑–º–µ–Ω—è—Ç—å —Ñ–∞–Ω—Ç–∏–∫–∏ –Ω–∞ –∫–∞—Ä–∞–º–µ–ª—å–∫–∏", r:"–ö–∞—Ä–∞–º–µ–ª—å–Ω–∞—è –∫–æ—Ä–æ–ª–µ–≤–∞"},
      {t:"–ó–∞–≥–ª—è–Ω—É—Ç—å –Ω–∞ –∫—É—Ö–Ω—é –∑–∞ –¥–æ–±–∞–≤–∫–æ–π", r:"–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞"},
      {t:"–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –±–µ–∑–æ–±–∏–¥–Ω—ã–π —Ä–æ–∑—ã–≥—Ä—ã—à", r:"–°–µ–∫—Ä–µ—Ç–Ω–∞—è —Ö—É–ª–∏–≥–∞–Ω–∫–∞"},
    ]
  },
  {
    q: "–°–∞–º–æ–µ –≤–∫—É—Å–Ω–æ–µ –≤ —Å—Ç–æ–ª–æ–≤–æ–π ‚Äî —ç—Ç–æ‚Ä¶",
    a: [
      {t:"–ú–∞–Ω–Ω–∞—è –∫–∞—à–∞/–∫–æ—Ç–ª–µ—Ç–∞ —Å –ø—é—Ä–µ", r:"–ó–≤–µ–∑–¥–∞ –ª–∏–Ω–µ–π–∫–∏"},
      {t:"–ë—É–ª–æ—á–∫–∞ –∫ —á–∞—é", r:"–•–æ–∑—è–π–∫–∞ —Ç–∏—Ö–æ–≥–æ —á–∞—Å–∞"},
      {t:"–ì–æ—Ä—è—á–∏–π —á–∞–π (–¥–∞–∂–µ –µ—Å–ª–∏ –∏–∑ —Å—Ç–æ–ª–æ–≤–æ–π)", r:"–ö–æ—Ä–æ–ª–µ–≤–∞ –∫–æ—Å—Ç—Ä–∞"},
      {t:"–ú–∞–∫–∞—Ä–æ–Ω—ã —Å —Ç—É—à—ë–Ω–∫–æ–π", r:"–ß–µ–º–ø–∏–æ–Ω–∫–∞ —Ç—É—Ä—Å–ª—ë—Ç–∞"},
      {t:"–®–æ–∫–æ–ª–∞–¥–∫–∞ –∏–∑ –æ–±–º–µ–Ω–∞", r:"–ö–∞—Ä–∞–º–µ–ª—å–Ω–∞—è –∫–æ—Ä–æ–ª–µ–≤–∞"},
      {t:"–ö–æ–º–ø–æ—Ç –∏–ª–∏ –∫–∏—Å–µ–ª—å", r:"–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞"},
      {t:"–í—Å—ë –ø–æ–¥—Ä—è–¥, –ª–∏—à—å –±—ã –≤–µ—Å–µ–ª–æ", r:"–°–µ–∫—Ä–µ—Ç–Ω–∞—è —Ö—É–ª–∏–≥–∞–Ω–∫–∞"},
    ]
  },
  {
    q: "–î–æ–∂–¥–ª–∏–≤—ã–π –¥–µ–Ω—å –≤ –ª–∞–≥–µ—Ä–µ ‚Äî –≤–∞—à –≤—ã–±–æ—Ä:",
    a: [
      {t:"–ù–∞–≤–µ—Å—Ç–∏ –ª–æ—Å–∫: –ø—Ä–∏—á—ë—Å–∫–∞/–≥–∞–ª—Å—Ç—É–∫", r:"–ó–≤–µ–∑–¥–∞ –ª–∏–Ω–µ–π–∫–∏"},
      {t:"–ü–ª–µ–¥ –∏ –∫–Ω–∏–≥–∞ –ø–æ–¥ –æ–∫–Ω–æ", r:"–•–æ–∑—è–π–∫–∞ —Ç–∏—Ö–æ–≥–æ —á–∞—Å–∞"},
      {t:"–ü–µ—Ç—å –ø–æ–¥ –≥–∏—Ç–∞—Ä—É –≤ –∫–æ—Ä–ø—É—Å–µ", r:"–ö–æ—Ä–æ–ª–µ–≤–∞ –∫–æ—Å—Ç—Ä–∞"},
      {t:"–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –≤ —Å–ø–æ—Ä—Ç–∑–∞–ª–µ", r:"–ß–µ–º–ø–∏–æ–Ω–∫–∞ —Ç—É—Ä—Å–ª—ë—Ç–∞"},
      {t:"–û–±–º–µ–Ω —Å–ª–∞–¥–æ—Å—Ç—è–º–∏/–Ω–∞—Å—Ç–æ–ª–∫–∏", r:"–ö–∞—Ä–∞–º–µ–ª—å–Ω–∞—è –∫–æ—Ä–æ–ª–µ–≤–∞"},
      {t:"–ß–∞–π —Å –ø–µ—á–µ–Ω—å–µ–º –∏ –∫–æ–º–ø–æ—Ç", r:"–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞"},
      {t:"–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∫–≤–µ—Å—Ç-—Ä–æ–∑—ã–≥—Ä—ã—à", r:"–°–µ–∫—Ä–µ—Ç–Ω–∞—è —Ö—É–ª–∏–≥–∞–Ω–∫–∞"},
    ]
  },
  {
    q: "–ß—Ç–æ –≤—ã —á–∞—â–µ –≤—Å–µ–≥–æ —Ç–µ—Ä—è–ª–∏ –≤ –ª–∞–≥–µ—Ä–µ?",
    a: [
      {t:"–ó–Ω–∞—á–æ–∫/–≥–∞–ª—Å—Ç—É–∫", r:"–ó–≤–µ–∑–¥–∞ –ª–∏–Ω–µ–π–∫–∏"},
      {t:"–ó–∞–∫–ª–∞–¥–∫—É –¥–ª—è –∫–Ω–∏–≥–∏", r:"–•–æ–∑—è–π–∫–∞ —Ç–∏—Ö–æ–≥–æ —á–∞—Å–∞"},
      {t:"–§–æ–Ω–∞—Ä–∏–∫", r:"–ö–æ—Ä–æ–ª–µ–≤–∞ –∫–æ—Å—Ç—Ä–∞"},
      {t:"–°–ø–æ—Ä—Ç–∏–≤–Ω—É—é –ø–æ–≤—è–∑–∫—É", r:"–ß–µ–º–ø–∏–æ–Ω–∫–∞ —Ç—É—Ä—Å–ª—ë—Ç–∞"},
      {t:"–®–æ–∫–æ–ª–∞–¥–∫—É (–µ—ë ¬´–≤—ã–∏–≥—Ä–∞–ª–∏¬ª)", r:"–ö–∞—Ä–∞–º–µ–ª—å–Ω–∞—è –∫–æ—Ä–æ–ª–µ–≤–∞"},
      {t:"–°—Ç–∞–∫–∞–Ω –¥–ª—è –∫–æ–º–ø–æ—Ç–∞", r:"–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞"},
      {t:"–ö–ª—é—á –æ—Ç —Ç—É–º–±–æ—á–∫–∏ (–∏–Ω–æ–≥–¥–∞)", r:"–°–µ–∫—Ä–µ—Ç–Ω–∞—è —Ö—É–ª–∏–≥–∞–Ω–∫–∞"},
    ]
  },
  {
    q: "–û–±—ä—è–≤–∏–ª–∏ ¬´–°–º–æ—Ç—Ä –ø–µ—Å–Ω–∏ –∏ —Å—Ç—Ä–æ—è¬ª. –í–∞—à–∞ —Ä–µ–∞–∫—Ü–∏—è?",
    a: [
      {t:"–í—ã–ø—Ä—è–º–∏—Ç—å —Å–ø–∏–Ω—É –∏ –≤–ø–µ—Ä—ë–¥!", r:"–ó–≤–µ–∑–¥–∞ –ª–∏–Ω–µ–π–∫–∏"},
      {t:"–ü–æ—Å–ø–∞—Ç—å –ø–æ–ª—á–∞—Å–∏–∫–∞ –¥–æ —Ä–µ–ø–µ—Ç–∏—Ü–∏–∏", r:"–•–æ–∑—è–π–∫–∞ —Ç–∏—Ö–æ–≥–æ —á–∞—Å–∞"},
      {t:"–ü—Ä–∏–¥—É–º–∞—Ç—å —Ä–µ—á—ë–≤–∫—É —É –∫–æ—Å—Ç—Ä–∞", r:"–ö–æ—Ä–æ–ª–µ–≤–∞ –∫–æ—Å—Ç—Ä–∞"},
      {t:"–†–∞–∑–º–∏–Ω–∫–∞ –∏ —á—ë—Ç–∫–∏–π —à–∞–≥", r:"–ß–µ–º–ø–∏–æ–Ω–∫–∞ —Ç—É—Ä—Å–ª—ë—Ç–∞"},
      {t:"–î–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è –æ –∫–∞—Ä–∞–º–µ–ª—å–∫–∞—Ö –∑–∞ –∫—Ä–∏–∫ –∫–æ–º–∞–Ω–¥—ã", r:"–ö–∞—Ä–∞–º–µ–ª—å–Ω–∞—è –∫–æ—Ä–æ–ª–µ–≤–∞"},
      {t:"–ü–æ—Å–ª–µ —Å–º–æ—Ç—Ä–∞ ‚Äî –≤ —Å—Ç–æ–ª–æ–≤—É—é!", r:"–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞"},
      {t:"–ü–æ–¥–ª–æ–∂–∏—Ç—å —Å–≤–∏—Å—Ç–æ–∫ –≤–æ–∂–∞—Ç–æ–π (—à—É—Ç–∫–∞)", r:"–°–µ–∫—Ä–µ—Ç–Ω–∞—è —Ö—É–ª–∏–≥–∞–Ω–∫–∞"},
    ]
  }
];

// ===== –õ–û–ì–ò–ö–ê –û–ü–†–û–°–ù–ò–ö–ê =====
const quiz = document.getElementById('quiz');
const qEl = document.getElementById('question');
const answersEl = document.getElementById('answers');
const qnumEl = document.getElementById('qnum');
const barEl = document.getElementById('bar');
const nextBtn = document.getElementById('nextBtn');
const resultSection = document.getElementById('result');
const roleEl = document.getElementById('role');
const descEl = document.getElementById('desc');
const badgeWrap = document.getElementById('badgeWrap');

let idx = 0; let scores = {};
let picked = null;

function renderQ(){
  const total = QUESTIONS.length; const q = QUESTIONS[idx];
  qnumEl.textContent = `–í–æ–ø—Ä–æ—Å ${idx+1} –∏–∑ ${total}`;
  qEl.textContent = q.q;
  answersEl.innerHTML = '';
  picked = null; nextBtn.disabled = true;
  quiz.classList.remove('flip');
  setTimeout(()=>quiz.classList.add('flip'), 20); // –ª—ë–≥–∫–∏–π —ç—Ñ—Ñ–µ–∫—Ç –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç–∞
  q.a.forEach((opt,i)=>{
    const b = document.createElement('button');
    b.className = 'answer'; b.type = 'button'; b.textContent = opt.t; // –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤–æ–µ –ø–æ–ª–µ t
    b.addEventListener('click', ()=>{
      picked = opt; nextBtn.disabled = false;
      document.querySelectorAll('.answer').forEach(el=>el.style.outline='none');
      b.style.outline = `3px solid ${getComputedStyle(document.documentElement).getPropertyValue('--accent')}`;
    });
    answersEl.appendChild(b);
  });
  barEl.style.width = ((idx)/total*100).toFixed(2)+'%';
} –∏–∑ ${total}`;
  qEl.textContent = q.q;
  answersEl.innerHTML = '';
  picked = null; nextBtn.disabled = true;
  quiz.classList.remove('flip');
  setTimeout(()=>quiz.classList.add('flip'), 20); // –ª–µ–≥–∫–∏–π —ç—Ñ—Ñ–µ–∫—Ç –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç–∞
  q.a.forEach((opt,i)=>{
    const b = document.createElement('button');
    b.className = 'answer'; b.type = 'button'; b.textContent = opt.t;
    b.addEventListener('click', ()=>{
      picked = opt; nextBtn.disabled = false;
      document.querySelectorAll('.answer').forEach(el=>el.style.outline='none');
      b.style.outline = `3px solid ${getComputedStyle(document.documentElement).getPropertyValue('--accent')}`;
    });
    answersEl.appendChild(b);
  });
  barEl.style.width = ((idx)/total*100).toFixed(2)+'%';
}

nextBtn.addEventListener('click', ()=>{
  if(!picked) return;
  scores[picked.r] = (scores[picked.r]||0)+1; // –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤–æ–µ –ø–æ–ª–µ r
  idx++;
  if(idx < QUESTIONS.length){ renderQ(); }
  else { showResult(); }
}); }
  else { showResult(); }
});

function pickWinner(){
  return Object.keys(scores).reduce((a,b)=> scores[a]>scores[b]?a:b);
}

function showResult(){
  quiz.style.display='none';
  resultSection.style.display='block';
  const winner = pickWinner();
  roleEl.textContent = winner; descEl.textContent = ROLES[winner];
  barEl.style.width = '100%';
  drawBadge(winner);
  party();
  bugle();
}

// ===== –ó–ù–ê–ß–û–ö (SVG) –î–õ–Ø –†–û–õ–ò =====
function drawBadge(role){
  const svgNS = 'http://www.w3.org/2000/svg';
  const wrap = badgeWrap; wrap.innerHTML='';
  const svg = document.createElementNS(svgNS,'svg');
  svg.setAttribute('viewBox','0 0 200 200'); svg.style.width='100%'; svg.style.height='100%';

  // –º–µ–¥–∞–ª—å
  const gradId = 'g'+Math.random().toString(36).slice(2);
  const defs = document.createElementNS(svgNS,'defs');
  const grad = document.createElementNS(svgNS,'radialGradient'); grad.id = gradId;
  grad.innerHTML = '<stop offset="0%" stop-color="#fff6d6"/><stop offset="60%" stop-color="#f1c16d"/><stop offset="100%" stop-color="#c58a21"/>';
  defs.appendChild(grad); svg.appendChild(defs);

  const circle = document.createElementNS(svgNS,'circle');
  circle.setAttribute('cx','100'); circle.setAttribute('cy','100'); circle.setAttribute('r','78');
  circle.setAttribute('fill',`url(#${gradId})`);
  circle.setAttribute('stroke','#8a5a12'); circle.setAttribute('stroke-width','6');
  svg.appendChild(circle);

  // –ª–µ–Ω—Ç–∞
  const ribbon = document.createElementNS(svgNS,'path');
  ribbon.setAttribute('d','M60 170 L100 130 L140 170 L120 170 L100 150 L80 170 Z');
  ribbon.setAttribute('fill','var(--accent)'); ribbon.setAttribute('opacity','.9');
  svg.appendChild(ribbon);

  // –ø–∏–∫—Ç–æ–≥—Ä–∞–º–º–∞ –ø–æ —Ä–æ–ª–∏
  const icon = document.createElementNS(svgNS,'text');
  icon.setAttribute('x','100'); icon.setAttribute('y','105');
  icon.setAttribute('text-anchor','middle'); icon.setAttribute('dominant-baseline','central');
  icon.setAttribute('font-size','48'); icon.setAttribute('font-weight','700'); icon.setAttribute('fill','#612e0a');
  icon.textContent = iconFor(role);
  svg.appendChild(icon);

  // –ø–æ–¥–ø–∏—Å—å
  const t = document.createElementNS(svgNS,'text');
  t.setAttribute('x','100'); t.setAttribute('y','188'); t.setAttribute('text-anchor','middle'); t.setAttribute('font-size','12'); t.setAttribute('fill','#5a4635');
  t.textContent = role;
  svg.appendChild(t);

  wrap.appendChild(svg);
}

function iconFor(role){
  switch(role){
    case '–ó–≤–µ–∑–¥–∞ –ª–∏–Ω–µ–π–∫–∏': return '‚òÖ';
    case '–•–æ–∑—è–π–∫–∞ —Ç–∏—Ö–æ–≥–æ —á–∞—Å–∞': return '‚òï';
    case '–ö–æ—Ä–æ–ª–µ–≤–∞ –∫–æ—Å—Ç—Ä–∞': return 'üî•';
    case '–ß–µ–º–ø–∏–æ–Ω–∫–∞ —Ç—É—Ä—Å–ª—ë—Ç–∞': return 'üèÖ';
    case '–ö–∞—Ä–∞–º–µ–ª—å–Ω–∞—è –∫–æ—Ä–æ–ª–µ–≤–∞': return 'üç¨';
    case '–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞': return 'ü•§';
    case '–°–µ–∫—Ä–µ—Ç–Ω–∞—è —Ö—É–ª–∏–≥–∞–Ω–∫–∞': return 'üòº';
    default: return '‚≠ê';
  }
}

// ===== –ö–û–ù–§–ï–¢–¢–ò =====
const c = document.getElementById('confetti');
const ctx = c.getContext('2d'); let conf = [];
function resize(){ c.width = innerWidth; c.height = innerHeight; }
addEventListener('resize', resize); resize();

function party(){
  conf = Array.from({length: 180}, ()=>({
    x: Math.random()*c.width,
    y: -20 - Math.random()*c.height/2,
    r: 5+Math.random()*7,
    s: 1+Math.random()*2,
    a: Math.random()*Math.PI*2,
    color: Math.random()>.5? 'var(--accent)': 'var(--accent-2)'
  }));
}

function tick(){
  ctx.clearRect(0,0,c.width,c.height);
  conf.forEach(p=>{
    ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.a);
    ctx.fillStyle = p.color; ctx.fillRect(-p.r/2,-p.r/2,p.r,p.r);
    ctx.restore();
    p.y += p.s*2.2; p.a += 0.02; if(p.y>c.height+20) p.y = -20;
  });
  requestAnimationFrame(tick);
}
requestAnimationFrame(tick);

// ===== –ó–í–£–ö–ò: –≥–æ—Ä–Ω –∏ –∫–æ—Å—Ç—ë—Ä (WebAudio, –±–µ–∑ —Ñ–∞–π–ª–æ–≤) =====
let audioCtx; function ac(){ return audioCtx || (audioCtx = new (window.AudioContext||window.webkitAudioContext)()); }
function bugle(){ // –∫–æ—Ä–æ—Ç–∫–∞—è —Ñ–∞–Ω—Ñ–∞—Ä–∞
  const ctx = ac(); const now = ctx.currentTime;
  const seq = [523.25,659.25,783.99,1046.5]; // C5 E5 G5 C6
  seq.forEach((f,i)=>{
    const o = ctx.createOscillator(); const g = ctx.createGain();
    o.type='square'; o.frequency.value=f; o.connect(g); g.connect(ctx.destination);
    const t = now + i*0.18; o.start(t); g.gain.setValueAtTime(.0001,t);
    g.gain.exponentialRampToValueAtTime(.35, t+.02);
    g.gain.exponentialRampToValueAtTime(.0001, t+.16); o.stop(t+.18);
  });
}

function campfire(){ // —à—É–º –∫–æ—Å—Ç—Ä–∞: —Ä–æ–∑–æ–≤—ã–π —à—É–º + —Ç—Ä–µ—Å–∫
  const ctx = ac(); const dur = 2.2; const rate = ctx.sampleRate; const len = rate*dur;
  const buffer = ctx.createBuffer(1,len,rate); const data = buffer.getChannelData(0);
  let lastOut = 0; for(let i=0;i<len;i++){ // —Ä–æ–∑–æ–≤—ã–π —à—É–º
    const white = Math.random()*2-1; lastOut = 0.98*lastOut + 0.02*white; data[i]=lastOut*0.6;
    if(Math.random()<0.002) data[i]+= (Math.random()*2-1)*0.9; // —Å–ª—É—á–∞–π–Ω—ã–µ —â–µ–ª—á–∫–∏
  }
  const src = ctx.createBufferSource(); src.buffer=buffer; const g = ctx.createGain(); g.gain.value=.4;
  src.connect(g); g.connect(ctx.destination); src.start();
}

// –∫–Ω–æ–ø–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
 document.getElementById('replay').onclick = ()=> location.reload();
 document.getElementById('copy').onclick = ()=>{
   const winner = roleEl.textContent; const txt = `–ú–æ—è —Ä–æ–ª—å –≤ ¬´–õ–µ—Ç–Ω–µ–º –ª–∞–≥–µ—Ä–µ¬ª: ${winner}. ${ROLES[winner]}`;
   navigator.clipboard?.writeText(txt);
   alert('–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
 };
 document.getElementById('soundBtn').onclick = bugle;
 document.getElementById('fireBtn').onclick = campfire;

// —Å—Ç–∞—Ä—Ç
renderQ();
</script></body>
</html>
