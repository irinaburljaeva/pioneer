<!DOCTYPE html><html lang="ru"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>–ö—Ç–æ —Ç—ã –≤ –ª–µ—Ç–Ω–µ–º –ª–∞–≥–µ—Ä–µ? ‚Äî –®–ê–ì–ê–ô –î–û–ú–ê</title>
<style>
:root{--ink:#2e2623;--accent:#b22222;--paper:#fff8e6;--blue:#1f4a7f;--night:rgba(10,12,18,.5);--navPad:200px}
html,body{height:100%}
body{margin:0;color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans",Arial,sans-serif;background:radial-gradient(1200px 600px at top left,#fff6d8 0%,#fffaf0 35%,#fff 60%) fixed}
body.night::before{content:"";position:fixed;inset:0;background:var(--night);z-index:0;pointer-events:none}
.fx{position:fixed;inset:0;pointer-events:none;z-index:1;display:none}

.page{max-width:900px;margin:20px auto;padding:20px;background:var(--paper);border-radius:18px;
  box-shadow:0 30px 60px rgba(0,0,0,.14),inset 0 0 0 2px #e7d9b6,0 0 0 6px rgba(255,255,255,.7),inset 0 0 0 8px #f4ecd1;position:relative;z-index:2}
.top{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:10px}
h1{margin:0;color:var(--accent);font-size:24px}
.flames{display:flex;gap:6px}.flame{opacity:.25;transition:.2s}.flame.on{opacity:1;transform:translateY(-2px)}

.toggle{display:flex;align-items:center;gap:10px;justify-content:center;margin:8px 0 12px}
.switch{position:relative;width:50px;height:28px;display:inline-block}
.switch input{opacity:0;width:0;height:0}
.slider{position:absolute;inset:0;background:#cbd5e1;border-radius:999px;transition:.2s}
.slider:before{content:"";position:absolute;left:3px;top:3px;width:22px;height:22px;background:#fff;border-radius:50%;transition:.2s;box-shadow:0 1px 3px rgba(0,0,0,.25)}
.switch input:checked+.slider{background:#f59e0b}.switch input:checked+.slider:before{transform:translateX(22px)}

.card{position:relative;background:linear-gradient(#fffef7,#fffaf0);border:1px solid #e8e0c7;border-radius:16px;padding:18px;box-shadow:0 10px 24px rgba(0,0,0,.08)}
.stage{position:relative;min-height:340px}

/* –∏–Ω—Ç—Ä–æ ‚Äî –∫—Ä—É–ø–Ω–æ–µ, —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø—Ä–æ–ø–æ—Ä—Ü–∏–π */
.intro{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;padding:0;background:transparent;border:0;cursor:pointer;z-index:9}
.intro img{max-width:100%;max-height:100%;width:auto;height:auto;object-fit:contain;border-radius:14px;box-shadow:0 12px 30px rgba(0,0,0,.18);pointer-events:none;user-select:none}
.intro.hide{opacity:0;pointer-events:none;transition:.25s}

.slide{position:absolute;inset:0;opacity:0;transform:translateX(40px) rotateY(-4deg);transition:.45s}
.slide.active{opacity:1;transform:none}.slide.out{opacity:0;transform:translateX(-40px) rotateY(6deg)}

#qnum{font-size:12px;text-transform:uppercase;color:#5c6b7a;margin:6px 0}
#question{font-size:22px;margin:6px 0 12px}

/* –æ—Ç–≤–µ—Ç—ã: –±–æ–ª—å—à–æ–π –ª–æ–∫–∞–ª—å–Ω—ã–π –æ—Ç—Å—Ç—É–ø + spacer + scroll-padding + scroll-margin */
.answers{
  max-height:65vh;overflow:auto;padding-right:4px;
  padding-bottom:calc(var(--navPad) + env(safe-area-inset-bottom));
  scroll-padding-bottom:calc(var(--navPad) + 24px);
}
.grid{display:grid;gap:10px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
.answer{display:block;width:100%;text-align:left;padding:12px 14px;border:2px dashed var(--blue);border-radius:12px;background:#fdf8ea;box-shadow:0 2px 0 rgba(0,0,0,.06);cursor:pointer;scroll-margin-bottom:calc(var(--navPad) + 32px)}
.answer:hover{background:#fff2c7}.answer.sel{outline:3px solid var(--accent)}
.answers .spacer{height:calc(var(--navPad) + 80px)} /* –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –≤—ã—à–µ –∫–Ω–æ–ø–∫–∏ */

.nav{position:sticky;bottom:0;z-index:3;background:linear-gradient(180deg,transparent,#fffaf0 40%);
  padding:10px 6px calc(10px + env(safe-area-inset-bottom));border-bottom-left-radius:14px;border-bottom-right-radius:14px;display:flex;justify-content:flex-end}
#next{background:var(--accent);color:#fff;border:0;border-radius:12px;padding:12px 20px;font-weight:700;box-shadow:0 6px 18px rgba(178,34,34,.25)}
#next:disabled{opacity:.6;box-shadow:none}
/* –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞ —É–∑–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
@media (max-width:420px){
  #next{padding:10px 16px;font-size:15px;border-radius:10px}
}

#result{text-align:center;display:none}
.badge{width:180px;height:180px;margin:16px auto 8px}
.cta{display:inline-block;margin-top:16px;padding:12px 24px;background:#b22222;color:#fff;border-radius:24px;text-decoration:none;font-weight:700}

body.prestart .top,body.prestart .toggle,body.prestart .nav{display:none!important}
</style>

<script>
  /* —Ñ–æ–ª–±—ç–∫ —Å—Ç–∞—Ä—Ç–∞ */
  window.__startWanted=false;
  function startQuiz(){
    if(!document.body.classList.contains('prestart')) return;
    document.body.classList.remove('prestart');
    const b=document.getElementById('intro'); if(b){b.classList.add('hide'); setTimeout(()=>b.remove(),250);}
    document.getElementById('stage').innerHTML='<div class="slide active" style="display:flex;align-items:center;justify-content:center;color:#7b6b7a">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</div>';
    window.__startWanted=true; if(typeof renderQuestion==="function") renderQuestion();
  }
</script>
</head>
<body class="prestart">
<canvas id="fx" class="fx"></canvas>

<div class="page">
  <div class="top">
    <h1>–ö—Ç–æ —Ç—ã –≤ –ª–µ—Ç–Ω–µ–º –ª–∞–≥–µ—Ä–µ?</h1>
    <div class="flames" id="flames">
      <span class="flame">üî•</span><span class="flame">üî•</span><span class="flame">üî•</span><span class="flame">üî•</span>
      <span class="flame">üî•</span><span class="flame">üî•</span><span class="flame">üî•</span><span class="flame">üî•</span>
    </div>
  </div>

  <div class="toggle">
    <label class="switch"><input id="camp" type="checkbox"><span class="slider"></span></label>
    <span id="campLabel" style="font-size:14px;color:#555">–ü–æ—Å–∏–¥–µ—Ç—å —É –∫–æ—Å—Ç—Ä–∞</span>
  </div>

  <section class="card" id="quiz" aria-live="polite">
    <button id="intro" class="intro" onclick="startQuiz()"><img src="intro.png" alt="–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç"></button>
    <div id="stage" class="stage"></div>
    <div class="nav" id="nav"><button id="next" disabled>–î–∞–ª–µ–µ</button></div>
  </section>

  <section id="result" class="card">
    <div class="badge" id="badge"></div>
    <h2 id="role" style="color:var(--accent)"></h2>
    <p id="desc" style="max-width:650px;margin:0 auto 14px;line-height:1.5"></p>
    <div style="margin:12px auto 8px;max-width:680px;text-align:center">
      <p style="margin:0 0 8px">–ì–æ—Ç–æ–≤—ã –ø—Ä–æ–∂–∏—Ç—å <b>–≤–∞—à–µ –ª–µ—Ç–æ –º–µ—á—Ç—ã</b> –≤ –¥—É—Ö–µ –ø–∏–æ–Ω–µ—Ä–ª–∞–≥–µ—Ä—è ‚Äî –ø—Ä—è–º–æ –∏–∑ –¥–æ–º–∞?</p>
      <ul style="text-align:left;display:inline-block;margin:0;padding-left:18px;line-height:1.5">
        <li><b>–®–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ –¥–∏—Å–∫–æ—Ç–µ–∫–∏</b> –∫–∞–∂–¥—ã–π –¥–µ–Ω—å ‚Äî –ª—é–±–∏–º–∞—è –º—É–∑—ã–∫–∞ –∏ –ª—ë–≥–∫–∏–µ —Ä–∏—Ç–º—ã –≤–º–µ—Å—Ç–æ —Å–∫—É—á–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</li>
        <li>–õ–∞–≥–µ—Ä–Ω—ã–µ –∏–≥—Ä—ã, –¥—É—à–µ–≤–Ω—ã–µ –ø–æ—Å–∏–¥–µ–ª–∫–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–º–∞–Ω–¥—ã</li>
        <li>¬´–õ–∞–≥–µ—Ä–Ω–æ–µ –º–µ–Ω—é¬ª: –≤–∫—É—Å–Ω–æ, —Å—ã—Ç–Ω–æ –∏ –±–µ–∑ —á—É–≤—Å—Ç–≤–∞ –≤–∏–Ω—ã</li>
        <li><b>–û–Ω–ª–∞–π–Ω-–ª–∞–≥–µ—Ä—å:</b> –≤—Å—ë –¥–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–æ ‚Äî –∏–∑ –¥–æ–º–∞ –≤—ã—Ö–æ–¥–∏—Ç—å –Ω–µ –Ω—É–∂–Ω–æ</li>
      </ul>
      <p style="margin:12px 0 0">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –∏–Ω—Ç–µ–Ω—Å–∏–≤—É ¬´–õ–µ—Ç–Ω–∏–π –ª–∞–≥–µ—Ä—å¬ª –æ—Ç –®–ê–ì–ê–ô –î–û–ú–ê ‚Äî <i>–≤–∞—à–µ –ª–µ—Ç–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∑–¥–µ—Å—å!</i></p>
      <p><a class="cta" href="https://walk-walk.ru/summer_camp?utm_source=website&utm_medium=test&utm_campaign=test" target="_blank" rel="noopener">–•–æ—á—É –≤ –æ—Ç—Ä—è–¥!</a></p>
    </div>
  </section>
</div>

<audio id="fireAudio" src="fire.mp3" loop></audio>

<script>
/* ===== –î–ê–ù–ù–´–ï ===== */
const ROLES={
 "–ö–æ—Ä–æ–ª–µ–≤–∞ –∫—Ä–∞—Å–æ—Ç—ã":"–í—Å–µ–≥–¥–∞ –Ω–∞ –≤–∏–¥—É, —É—Ö–æ–∂–µ–Ω–∞, –ª—é–±–∏—Ç —Å—Ü–µ–Ω—É –∏ –ª–∏–Ω–µ–π–∫–∏ ‚Äî —Ü–µ–Ω—Ç—Ä –ø—Ä–∏—Ç—è–∂–µ–Ω–∏—è –ª–∞–≥–µ—Ä—è.",
 "–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞":"–ì–ª–∞–≤–Ω–∞—è –ø–æ —Å—Ç–æ–ª–æ–≤–æ–π –∏ –¥—É—à–µ–≤–Ω—ã–º —Ä–∞–∑–≥–æ–≤–æ—Ä–∞–º. –ó–Ω–∞–µ—Ç, –≥–¥–µ –¥–æ–±–∞–≤–∫–∞ –∏ —Å –∫–µ–º —Å–∏–¥–µ—Ç—å –∑–∞ —Å—Ç–æ–ª–æ–º.",
 "–°–∞–º–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è —É—á–∞—Å—Ç–Ω–∏—Ü–∞":"–í–µ–∑–¥–µ —É—á–∞—Å—Ç–≤—É–µ—Ç, –≤—Å—ë –æ—Ä–≥–∞–Ω–∏–∑—É–µ—Ç –∏ –ø–æ–¥–Ω–∏–º–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –æ—Ç—Ä—è–¥—É.",
 "–¢–∞–π–Ω–∞—è –ø—Ä–æ–∫–∞–∑–Ω–∏—Ü–∞":"–ü–∞–π-–¥–µ–≤–æ—á–∫–∞ –¥–æ –æ—Ç–±–æ—è, –∞ –ø–æ—Ç–æ–º ‚Äî –º–∞—Å—Ç–µ—Ä –¥—Ä—É–∂–µ—Å–∫–∏—Ö —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π.",
 "–ò–≥—Ä–æ–∫ –≤ –∫–∞—Ä—Ç—ã –Ω–∞ –∫–∞—Ä–∞–º–µ–ª—å–∫–∏":"–¢–∞–∫—Ç–∏–∫ –∏ —Å—Ç—Ä–∞—Ç–µ–≥. –î–∞–∂–µ —Ñ–∞–Ω—Ç–∏–∫–∏ –æ–±–º–µ–Ω–∏–≤–∞–µ—Ç —Å –≤—ã–≥–æ–¥–æ–π.",
 "–°–ø–æ—Ä—Ç—Å–º–µ–Ω–∫–∞":"–≠—Å—Ç–∞—Ñ–µ—Ç—ã, —Ç—É—Ä—Å–ª—ë—Ç, –∑–∞—Ä—è–¥–∫–∞ ‚Äî –µ—ë —Å—Ç–∏—Ö–∏—è. –ö–æ–º–∞–Ω–¥–Ω—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å."
};
const QUESTIONS=[
 {q:"–ß–µ–º –≤—ã –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ —Ö–æ—Ç–∏—Ç–µ –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –≤ –ª–∞–≥–µ—Ä–µ?",a:[
  {t:"–ì–æ—Ç–æ–≤–∏—Ç—å –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è, –∫–æ–Ω–∫—É—Ä—Å—ã",r:"–ö–æ—Ä–æ–ª–µ–≤–∞ –∫—Ä–∞—Å–æ—Ç—ã"},
  {t:"–°–∏–¥–µ—Ç—å –≤ —Å—Ç–æ–ª–æ–≤–æ–π —Å –ø–æ–¥—Ä—É–∂–∫–∞–º–∏",r:"–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞"},
  {t:"–ü–æ–¥—Ä—É–∂–∏—Ç—å—Å—è —Å –≤–æ–∂–∞—Ç—ã–º–∏",r:"–°–∞–º–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è —É—á–∞—Å—Ç–Ω–∏—Ü–∞"},
  {t:"–ü—Ä–∏–¥—É–º—ã–≤–∞—Ç—å –±–µ–∑–æ–±–∏–¥–Ω—ã–µ —à–∞–ª–æ—Å—Ç–∏",r:"–¢–∞–π–Ω–∞—è –ø—Ä–æ–∫–∞–∑–Ω–∏—Ü–∞"},
  {t:"–ò–≥—Ä–∞—Ç—å –≤ –∫–∞—Ä—Ç—ã –¥–æ –æ—Ç–±–æ—è",r:"–ò–≥—Ä–æ–∫ –≤ –∫–∞—Ä—Ç—ã –Ω–∞ –∫–∞—Ä–∞–º–µ–ª—å–∫–∏"},
  {t:"–ë–µ–≥–∞—Ç—å —ç—Å—Ç–∞—Ñ–µ—Ç—ã –∏ –∏–≥—Ä–∞—Ç—å –≤ –≤–æ–ª–µ–π–±–æ–ª",r:"–°–ø–æ—Ä—Ç—Å–º–µ–Ω–∫–∞"}]},
 {q:"–ß—Ç–æ —Ü–µ–Ω–Ω–æ–≥–æ –≤—ã –∂–¥—ë—Ç–µ –≤ –ø–æ—Å—ã–ª–∫–µ –∏–∑ –¥–æ–º–∞?",a:[
  {t:"–ù–æ–≤–∞—è –∫–æ—Å–º–µ—Ç–∏—á–∫–∞ –∏ –∑–∞–∫–æ–ª–∫–∏",r:"–ö–æ—Ä–æ–ª–µ–≤–∞ –∫—Ä–∞—Å–æ—Ç—ã"},
  {t:"–ë–∞–Ω–æ—á–∫–∞ –≤–∞—Ä–µ–Ω—å—è/–≤–∫—É—Å–Ω–æ—Å—Ç–∏",r:"–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞"},
  {t:"–ü–ª–∞–∫–∞—Ç—ã, —Ñ–ª–∞–∂–∫–∏, —ç–º–±–ª–µ–º—ã",r:"–°–∞–º–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è —É—á–∞—Å—Ç–Ω–∏—Ü–∞"},
  {t:"–®—É—Ç–æ—á–Ω–∞—è –æ—Ç–∫—Ä—ã—Ç–∫–∞/–∂–≤–∞—á–∫–∏",r:"–¢–∞–π–Ω–∞—è –ø—Ä–æ–∫–∞–∑–Ω–∏—Ü–∞"},
  {t:"–ö–æ–ª–æ–¥–∞ –∫–∞—Ä—Ç",r:"–ò–≥—Ä–æ–∫ –≤ –∫–∞—Ä—Ç—ã –Ω–∞ –∫–∞—Ä–∞–º–µ–ª—å–∫–∏"},
  {t:"–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –∫—Ä–æ—Å—Å–æ–≤–∫–∏",r:"–°–ø–æ—Ä—Ç—Å–º–µ–Ω–∫–∞"}]},
 {q:"–õ—é–±–∏–º–æ–µ –±–ª—é–¥–æ –≤ —Å—Ç–æ–ª–æ–≤–æ–π:",a:[
  {t:"–ö–æ—Ç–ª–µ—Ç–∞ —Å –ø—é—Ä–µ",r:"–ö–æ—Ä–æ–ª–µ–≤–∞ –∫—Ä–∞—Å–æ—Ç—ã"},
  {t:"–ö–æ–º–ø–æ—Ç (–∏ –¥–æ–±–∞–≤–∫—É!)",r:"–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞"},
  {t:"–û–ª–∏–≤—å–µ/—Å–∞–ª–∞—Ç–∏–∫–∏",r:"–°–∞–º–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è —É—á–∞—Å—Ç–Ω–∏—Ü–∞"},
  {t:"–ë—É–ª–æ—á–∫–∞ —Å–æ—Å–µ–¥–∞",r:"–¢–∞–π–Ω–∞—è –ø—Ä–æ–∫–∞–∑–Ω–∏—Ü–∞"},
  {t:"–®–æ–∫–æ–ª–∞–¥–∫–∞, –∫–æ—Ç–æ—Ä—É—é —è –ø–æ–ª—É—á—É –æ–±–º–µ–Ω–æ–º",r:"–ò–≥—Ä–æ–∫ –≤ –∫–∞—Ä—Ç—ã –Ω–∞ –∫–∞—Ä–∞–º–µ–ª—å–∫–∏"},
  {t:"–ú–∞–∫–∞—Ä–æ–Ω—ã –ø–æ-—Ñ–ª–æ—Ç—Å–∫–∏",r:"–°–ø–æ—Ä—Ç—Å–º–µ–Ω–∫–∞"}]},
 {q:"–ù–æ—á—å –≤ –ª–∞–≥–µ—Ä–µ ‚Äî —ç—Ç–æ‚Ä¶",a:[
  {t:"–ö—Ä–∞—Å–∏–≤—ã–µ –ø–∏–∂–∞–º—ã –∏ —Å–æ–Ω",r:"–ö–æ—Ä–æ–ª–µ–≤–∞ –∫—Ä–∞—Å–æ—Ç—ã"},
  {t:"–ß–∞–π –ø–µ—Ä–µ–¥ —Å–Ω–æ–º –Ω–∞ –∫—É—Ö–Ω–µ",r:"–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞"},
  {t:"–û–±—Å—É–∂–¥–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–≤ –æ—Ç—Ä—è–¥–∞",r:"–°–∞–º–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è —É—á–∞—Å—Ç–Ω–∏—Ü–∞"},
  {t:"–°—Ç—Ä–∞—à–∏–ª–∫–∏ –∏ –ø–æ—Ö–æ–¥—ã –∑–∞ –≤–∫—É—Å–Ω—è—à–∫–∞–º–∏",r:"–¢–∞–π–Ω–∞—è –ø—Ä–æ–∫–∞–∑–Ω–∏—Ü–∞"},
  {t:"–ü–∞—Ä—Ç–∏—è –≤ –∫–∞—Ä—Ç—ã –¥–æ –æ—Ç–±–æ—è",r:"–ò–≥—Ä–æ–∫ –≤ –∫–∞—Ä—Ç—ã –Ω–∞ –∫–∞—Ä–∞–º–µ–ª—å–∫–∏"},
  {t:"–ü–æ—Ä–∞–Ω—å—à–µ –ª–µ—á—å, —á—Ç–æ–±—ã —Ä–∞–Ω–æ –≤—Å—Ç–∞—Ç—å –Ω–∞ –ø—Ä–æ–±–µ–∂–∫—É",r:"–°–ø–æ—Ä—Ç—Å–º–µ–Ω–∫–∞"}]},
 {q:"–ú–µ–¥–ª—è–∫ –Ω–∞ –¥–∏—Å–∫–æ—Ç–µ–∫–µ ‚Äî —ç—Ç–æ‚Ä¶",a:[
  {t:"–ú–æ–π –∑–≤—ë–∑–¥–Ω—ã–π —á–∞—Å",r:"–ö–æ—Ä–æ–ª–µ–≤–∞ –∫—Ä–∞—Å–æ—Ç—ã"},
  {t:"–°–±–µ–≥–∞—Ç—å –∑–∞ –∫–æ–º–ø–æ—Ç–æ–º –∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è",r:"–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞"},
  {t:"–ü–æ–∑–≤–∞—Ç—å –≤—Å–µ—Ö –Ω–∞ —Ñ–ª–µ—à–º–æ–±",r:"–°–∞–º–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è —É—á–∞—Å—Ç–Ω–∏—Ü–∞"},
  {t:"–®—É—Ç–∫–∞ –Ω–∞–¥ –¥–∏–¥–∂–µ–µ–º",r:"–¢–∞–π–Ω–∞—è –ø—Ä–æ–∫–∞–∑–Ω–∏—Ü–∞"},
  {t:"–°–¥–µ–ª–∫–∞: –∫—Ç–æ —Å–º–µ—à–Ω–µ–µ —Ç–∞–Ω—Ü—É–µ—Ç ‚Äî —Ç–æ–º—É –∫–æ–Ω—Ñ–µ—Ç—É",r:"–ò–≥—Ä–æ–∫ –≤ –∫–∞—Ä—Ç—ã –Ω–∞ –∫–∞—Ä–∞–º–µ–ª—å–∫–∏"},
  {t:"–ü–µ—Ä–µ–¥—ã—à–∫–∞ –º–µ–∂–¥—É —Ç–∞–Ω—Ü–∞–º–∏",r:"–°–ø–æ—Ä—Ç—Å–º–µ–Ω–∫–∞"}]},
 {q:"–ï—Å–ª–∏ –±—ã –≤—ã —Å—Ç–∞–ª–∏ –≤–æ–∂–∞—Ç–æ–π, –ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º‚Ä¶",a:[
  {t:"–°–¥–µ–ª–∞–ª–∞ —Ñ–æ—Ç–æ–∑–æ–Ω—É –∏ –ø—Ä–æ–≤–µ–ª–∞ –±—ã –∫–æ–Ω–∫—É—Ä—Å –∫—Ä–∞—Å–æ—Ç—ã",r:"–ö–æ—Ä–æ–ª–µ–≤–∞ –∫—Ä–∞—Å–æ—Ç—ã"},
  {t:"–ù–∞–ª–∞–¥–∏–ª–∞ —á–∞–π–Ω–æ-–∫–æ–º–ø–æ—Ç–Ω—ã–µ –ø–æ—Å–∏–¥–µ–ª–∫–∏",r:"–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞"},
  {t:"–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–ª–∞ —Ç–µ–∞—Ç—Ä–∞–ª—å–Ω–æ–µ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–µ",r:"–°–∞–º–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è —É—á–∞—Å—Ç–Ω–∏—Ü–∞"},
  {t:"–ù–∞–º–∞–∑–∞–ª–∞ –ø–∞—Å—Ç–æ–π —Ä—É—á–∫–∏ –æ—Ç—Ä—è–¥–∞",r:"–¢–∞–π–Ω–∞—è –ø—Ä–æ–∫–∞–∑–Ω–∏—Ü–∞"},
  {t:"–ù–∞—É—á–∏–ª–∞ –≤—Å–µ—Ö –∫–∞—Ä—Ç–æ—á–Ω—ã–º —Ñ–∏—à–∫–∞–º",r:"–ò–≥—Ä–æ–∫ –≤ –∫–∞—Ä—Ç—ã –Ω–∞ –∫–∞—Ä–∞–º–µ–ª—å–∫–∏"},
  {t:"–ü—Ä–æ–≤–µ–ª–∞ —ç—Å—Ç–∞—Ñ–µ—Ç—ã",r:"–°–ø–æ—Ä—Ç—Å–º–µ–Ω–∫–∞"}]},
 {q:"–õ—É—á—à–∏–π —Ç—Ä–æ—Ñ–µ–π –∏–∑ –ª–∞–≥–µ—Ä—è ‚Äî —ç—Ç–æ‚Ä¶",a:[
  {t:"–§–æ—Ç–æ —Å–æ —Å—Ü–µ–Ω—ã –∏ –∑–Ω–∞—á–æ–∫",r:"–ö–æ—Ä–æ–ª–µ–≤–∞ –∫—Ä–∞—Å–æ—Ç—ã"},
  {t:"–†–µ—Ü–µ–ø—Ç —Ñ–∏—Ä–º–µ–Ω–Ω–æ–≥–æ –∫–æ–º–ø–æ—Ç–∞",r:"–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞"},
  {t:"–ì—Ä–∞–º–æ—Ç–∞ ¬´–°–∞–º—ã–π –∞–∫—Ç–∏–≤–Ω—ã–π –ø–∏–æ–Ω–µ—Ä¬ª",r:"–°–∞–º–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è —É—á–∞—Å—Ç–Ω–∏—Ü–∞"},
  {t:"–¢–∞–π–Ω–∞—è –∑–∞–ø–∏—Å–∫–∞, –Ω–∞–π–¥–µ–Ω–Ω–∞—è –Ω–æ—á—å—é",r:"–¢–∞–π–Ω–∞—è –ø—Ä–æ–∫–∞–∑–Ω–∏—Ü–∞"},
  {t:"–£–ø–∞–∫–æ–≤–∫–∞ –∫–∞—Ä–∞–º–µ–ª–µ–∫, –≤—ã–∏–≥—Ä–∞–Ω–Ω–∞—è –≤ –∫–∞—Ä—Ç—ã",r:"–ò–≥—Ä–æ–∫ –≤ –∫–∞—Ä—Ç—ã –Ω–∞ –∫–∞—Ä–∞–º–µ–ª—å–∫–∏"},
  {t:"–ú–µ–¥–∞–ª—å/–ø–æ–≤—è–∑–∫–∞ —á–µ–º–ø–∏–æ–Ω–∞",r:"–°–ø–æ—Ä—Ç—Å–º–µ–Ω–∫–∞"}]},
 {q:"–ì–¥–µ –≤–∞—à–µ –ª—é–±–∏–º–æ–µ –º–µ—Å—Ç–æ –≤ –ª–∞–≥–µ—Ä–µ?",a:[
  {t:"–°—Ü–µ–Ω–∞, –¥–∏—Å–∫–æ—Ç–µ–∫–∏ –∏ –ª–∏–Ω–µ–π–∫–∏",r:"–ö–æ—Ä–æ–ª–µ–≤–∞ –∫—Ä–∞—Å–æ—Ç—ã"},
  {t:"–°—Ç–æ–ª–æ–≤–∞—è",r:"–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞"},
  {t:"–ü–ª–æ—â–∞–¥–∫–∞ –¥–ª—è –æ–±—â–∏—Ö —Å–±–æ—Ä–æ–≤",r:"–°–∞–º–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è —É—á–∞—Å—Ç–Ω–∏—Ü–∞"},
  {t:"–¢–∞–º, –≥–¥–µ –Ω–∏–∫—Ç–æ –Ω–µ –≤–∏–¥–∏—Ç",r:"–¢–∞–π–Ω–∞—è –ø—Ä–æ–∫–∞–∑–Ω–∏—Ü–∞"},
  {t:"–°—Ç–æ–ª –¥–ª—è –∫–∞—Ä—Ç–æ—á–Ω—ã—Ö –±–∞—Ç–∞–ª–∏–π",r:"–ò–≥—Ä–æ–∫ –≤ –∫–∞—Ä—Ç—ã –Ω–∞ –∫–∞—Ä–∞–º–µ–ª—å–∫–∏"},
  {t:"–°—Ç–∞–¥–∏–æ–Ω/—Å–ø–æ—Ä—Ç–ø–ª–æ—â–∞–¥–∫–∞",r:"–°–ø–æ—Ä—Ç—Å–º–µ–Ω–∫–∞"}]}
];

/* ===== –õ–û–ì–ò–ö–ê –¢–ï–°–¢–ê ===== */
const stage=document.getElementById('stage');
const flames=[...document.querySelectorAll('#flames .flame')];
const nextBtn=document.getElementById('next');
const result=document.getElementById('result');
const quiz=document.getElementById('quiz');
const roleEl=document.getElementById('role'), descEl=document.getElementById('desc'), badge=document.getElementById('badge');
const nav=document.getElementById('nav');

/* –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –æ—Ç—Å—Ç—É–ø –ø–æ–¥ –∫–Ω–æ–ø–∫—É (–∏ –ª–æ–∫–∞–ª—å–Ω–æ —É –±–ª–æ–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤) */
function setNavPad(){
  const h = nav ? Math.ceil(nav.getBoundingClientRect().height) : 64;
  const pad = h + 120; // —â–µ–¥—Ä—ã–π –∑–∞–ø–∞—Å
  document.documentElement.style.setProperty('--navPad', pad+'px');
  // –µ—Å–ª–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ —É–∂–µ –µ—Å—Ç—å –±–ª–æ–∫ –æ—Ç–≤–µ—Ç–æ–≤ ‚Äî –æ–±–Ω–æ–≤–∏–º –µ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ
  const curAnswers = stage.querySelector('.answers');
  if(curAnswers) curAnswers.style.paddingBottom = pad+'px';
}
setNavPad();
new ResizeObserver(setNavPad).observe(nav);
window.addEventListener('resize', setNavPad);

let i=0, pick=null, scores={};
function markProgress(){flames.forEach((f,idx)=>f.classList.toggle('on',idx<i));}

function renderQuestion(){
  const q=QUESTIONS[i], total=QUESTIONS.length; markProgress();
  const cur=stage.querySelector('.slide.active'); if(cur){cur.classList.add('out'); setTimeout(()=>cur.remove(),450);}
  const el=document.createElement('div');
  el.className='slide'; el.innerHTML=
    `<div id="qnum">–í–æ–ø—Ä–æ—Å ${i+1} –∏–∑ ${total}</div>
     <div id="question">${q.q}</div>
     <div class="answers"><div class="grid">
       ${q.a.map(a=>`<button class="answer" data-r="${a.r}">${a.t}</button>`).join('')}
     </div><div class="spacer"></div></div>`;
  stage.appendChild(el); requestAnimationFrame(()=>el.classList.add('active'));
  pick=null; nextBtn.disabled=true;

  // –ª–æ–∫–∞–ª—å–Ω—ã–π –ø–∞–¥–¥–∏–Ω–≥ –ø–æ–¥ –ø–∞–Ω–µ–ª—å
  const answersEl = el.querySelector('.answers');
  (function setLocal(){ const h = Math.ceil(nav.getBoundingClientRect().height)+120; answersEl.style.paddingBottom=h+'px'; })();
  new ResizeObserver(()=>{ const h=Math.ceil(nav.getBoundingClientRect().height)+120; answersEl.style.paddingBottom=h+'px'; }).observe(nav);

  const grid=el.querySelector('.grid');
  grid.addEventListener('click',e=>{
    const btn=e.target.closest('.answer'); if(!btn) return;
    grid.querySelectorAll('.answer').forEach(b=>b.classList.remove('sel'));
    btn.classList.add('sel'); pick=btn.dataset.r; nextBtn.disabled=false;
    btn.scrollIntoView({block:'nearest',behavior:'smooth'}); // –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π
  });

  setNavPad();
}
window.renderQuestion=renderQuestion;

nextBtn.addEventListener('click',()=>{
  if(!pick) return; scores[pick]=(scores[pick]||0)+1; i++;
  if(i<QUESTIONS.length) renderQuestion(); else showResult();
});

function showResult(){
  flames.forEach(f=>f.classList.add('on'));
  quiz.style.display='none'; result.style.display='block';
  const winner=Object.keys(scores).reduce((a,b)=>(scores[a]||0)>(scores[b]||0)?a:b);
  roleEl.textContent=winner; descEl.textContent=ROLES[winner];

  const ICON={"–ö–æ—Ä–æ–ª–µ–≤–∞ –∫—Ä–∞—Å–æ—Ç—ã":"üëë","–õ—é–±–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ –∫–æ–º–ø–æ—Ç–∞":"ü•§","–°–∞–º–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è —É—á–∞—Å—Ç–Ω–∏—Ü–∞":"‚≠ê","–¢–∞–π–Ω–∞—è –ø—Ä–æ–∫–∞–∑–Ω–∏—Ü–∞":"üòº","–ò–≥—Ä–æ–∫ –≤ –∫–∞—Ä—Ç—ã –Ω–∞ –∫–∞—Ä–∞–º–µ–ª—å–∫–∏":"üÉè","–°–ø–æ—Ä—Ç—Å–º–µ–Ω–∫–∞":"üèÖ"}[winner]||"‚≠ê";

  // –∫—Ä–∞—Å–Ω—ã–π –±–µ–π–¥–∂
  badge.innerHTML=`<svg viewBox="0 0 200 200" width="100%" height="100%">
    <defs>
      <radialGradient id="g" cx="50%" cy="45%" r="70%">
        <stop offset="0%"  stop-color="#ffe5e5"/>
        <stop offset="60%" stop-color="#ff7a7a"/>
        <stop offset="100%" stop-color="#b22222"/>
      </radialGradient>
      <filter id="ds" x="-20%" y="-20%" width="140%" height="140%">
        <feDropShadow dx="0" dy="6" stdDeviation="6" flood-color="#000" flood-opacity=".25"/>
      </filter>
    </defs>
    <circle cx="100" cy="100" r="78" fill="url(#g)" filter="url(#ds)" stroke="#8f1c1c" stroke-width="6"/>
    <text x="100" y="108" text-anchor="middle" dominant-baseline="middle" font-size="64" font-weight="700">${ICON}</text>
  </svg>`;
}

/* ===== –ö–û–°–¢–Å–†: —É–∑–∫–∞—è –ø–æ–ª–æ—Å–∞ —Å–Ω–∏–∑—É ===== */
const cv=document.getElementById('fx'), ctx=cv.getContext('2d'), audio=document.getElementById('fireAudio');
let run=false, W=0,H=0,parts=[];
const FIRE_SHIFT = -40; // –ø–æ–¥–Ω—è—Ç –Ω–µ–º–Ω–æ–≥–æ –≤–≤–µ—Ä—Ö

function size(){W=innerWidth;H=innerHeight;cv.width=W;cv.height=H;cv.style.display=run?'block':'none'}
function spark(){
  const baseY = H + FIRE_SHIFT;
  const sx=W*(0.15+Math.random()*0.70), sy=baseY+Math.random()*20;
  const v0=90+Math.random()*140, vx=(Math.random()*2-1)*50;
  return {x:sx,y:sy,vx,vy:-v0,life:1+Math.random()*1.1,s:1+Math.random()*2};
}
function drawFire(ctx,t){
  ctx.clearRect(0,0,W,H);
  const stripeTop = H*0.82; // –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –Ω–∏–∂–Ω–∏–µ 18% —ç–∫—Ä–∞–Ω–∞
  ctx.save(); ctx.beginPath(); ctx.rect(0,stripeTop,W,H-stripeTop); ctx.clip();

  const baseW=W, baseY=H + FIRE_SHIFT;
  for(let k=0;k<22;k++){
    const sway=Math.sin(t*0.0018+k)*baseW*0.16;
    const jitter=(Math.random()-0.5)*baseW*0.10;
    const cx=W*0.5+sway+jitter, cy=baseY-28-Math.random()*36, r=baseW*(0.035+Math.random()*0.07);
    ctx.fillStyle=`hsla(${28+Math.random()*12},95%,${55+Math.random()*12}%,${0.05+Math.random()*0.05})`;
    ctx.beginPath();ctx.arc(cx,cy,r,0,Math.PI*2);ctx.fill();
  }
  const g=ctx.createRadialGradient(W*.5,baseY*.995,8, W*.5,baseY*.995, Math.max(W,H)*0.45);
  g.addColorStop(0,'rgba(255,170,70,0.18)'); g.addColorStop(1,'rgba(255,170,70,0)');
  ctx.fillStyle=g; ctx.fillRect(0,0,W,H);
  ctx.restore();
}
function loop(ts){
  if(!run) return;
  drawFire(ctx,ts);
  ctx.globalCompositeOperation='lighter';
  for(let j=0;j<110;j++){
    if(!parts[j]) parts[j]=spark();
    const p=parts[j]; p.x+=p.vx*.016; p.y+=p.vy*.016; p.life-=.016;
    const a=Math.max(0,Math.min(1,p.life)), sz=p.s*(.8+.4*a);
    const g=ctx.createRadialGradient(p.x,p.y,0,p.x,p.y,sz*3);
    g.addColorStop(0,`hsla(50,100%,85%,${a})`); g.addColorStop(.4,`hsla(35,95%,55%,${a*.9})`); g.addColorStop(1,'hsla(30,90%,40%,0)');
    ctx.fillStyle=g; ctx.beginPath(); ctx.arc(p.x,p.y,sz*1.8,0,Math.PI*2); ctx.fill();
    if(p.life<=0||p.y<-20||p.x<-20||p.x>W+20) parts[j]=spark();
  }
  ctx.globalCompositeOperation='source-over';
  requestAnimationFrame(loop);
}
function startFire(){if(run) return; run=true; size(); parts=Array(110); requestAnimationFrame(loop);}
function stopFire(){run=false; size();}
window.addEventListener('resize',size);
document.getElementById('camp').addEventListener('change',e=>{
  if(e.target.checked){document.body.classList.add('night'); startFire(); try{audio.volume=.5; audio.play().catch(()=>{})}catch(_){}} 
  else{document.body.classList.remove('night'); stopFire(); try{audio.pause(); audio.currentTime=0}catch(_){}}});

/* —Å—Ç—Ä–∞—Ö–æ–≤–∫–∏ –Ω–∞ —Ä–∞–Ω–Ω–∏–π –∫–ª–∏–∫ –ø–æ –∏–Ω—Ç—Ä–æ */
document.addEventListener('DOMContentLoaded',()=>{ if(window.__startWanted) renderQuestion(); });
setTimeout(()=>{ if(window.__startWanted && !stage.querySelector('.grid')) renderQuestion(); },300);
</script>
</body></html>
